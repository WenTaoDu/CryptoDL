<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<meta http-equiv="X-UA-Compatible" content="IE=9"/>
<meta name="generator" content="Doxygen 1.8.13"/>
<meta name="viewport" content="width=device-width, initial-scale=1"/>
<title>Kalyp.so: README</title>
<link href="tabs.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="jquery.js"></script>
<script type="text/javascript" src="dynsections.js"></script>
<link href="search/search.css" rel="stylesheet" type="text/css"/>
<script type="text/javascript" src="search/searchdata.js"></script>
<script type="text/javascript" src="search/search.js"></script>
<link href="doxygen.css" rel="stylesheet" type="text/css" />
</head>
<body>
<div id="top"><!-- do not remove this div, it is closed by doxygen! -->
<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  <td id="projectalign" style="padding-left: 0.5em;">
   <div id="projectname">Kalyp.so
   </div>
  </td>
 </tr>
 </tbody>
</table>
</div>
<!-- end header part -->
<!-- Generated by Doxygen 1.8.13 -->
<script type="text/javascript">
var searchBox = new SearchBox("searchBox", "search",false,'Search');
</script>
<script type="text/javascript" src="menudata.js"></script>
<script type="text/javascript" src="menu.js"></script>
<script type="text/javascript">
$(function() {
  initMenu('',true,false,'search.php','Search');
  $(document).ready(function() { init_search(); });
});
</script>
<div id="main-nav"></div>
<!-- window showing the filter options -->
<div id="MSearchSelectWindow"
     onmouseover="return searchBox.OnSearchSelectShow()"
     onmouseout="return searchBox.OnSearchSelectHide()"
     onkeydown="return searchBox.OnSearchSelectKey(event)">
</div>

<!-- iframe showing the search results (closed by default) -->
<div id="MSearchResultsWindow">
<iframe src="javascript:void(0)" frameborder="0" 
        name="MSearchResults" id="MSearchResults">
</iframe>
</div>

</div><!-- top -->
<div class="header">
  <div class="headertitle">
<div class="title">README </div>  </div>
</div><!--header-->
<div class="contents">
<div class="textblock"><p>v.0.2.2</p>
<h2>What is this repository for?</h2>
<p>This project aims to provide Deep Learning with a privacy preserving computation backend. The privacy preserving computation is based on homomorphic encryption (HE). Homomorphic encryption allows for computation on encrypted data, get an encrypted result without the need to decrypt the data for any of the computation. These properties come with a number of restrictions and things to look out for. We aim to provide a library that provides privacy preserving deep learning for people with a deep learning background without needing to dig into HE, aswell as the abiltity to easily integrate different HE libraries as computation backends.</p>
<h2>Things to be aware of and look out for</h2>
<h3>Image data format and channels</h3>
<p>Out system currently assumes that the image data format is <b>channels first</b>. This means the contains the inputs are of the following form <code>[batch, channel, y, x]</code>.</p>
<h4>Keras 2.0.6 and later</h4>
<p>In Keras 2.0.6 the <code><a class="el" href="classFlatten.html">Flatten</a></code> layer became aware of the image data format. In prior versions it was always assuming channels last. Our implementation does not suport channels first flattening in the same way that Keras does. So make sure that your <code><a class="el" href="classFlatten.html">Flatten</a></code> layers contains the correct data format like this:</p>
<div class="fragment"><div class="line">Flatten(data_format=&quot;channels_last&quot;)</div></div><!-- fragment --><h4>Supported version of HELib</h4>
<p>The last none version of HELib supported is: <code>ac0308715e5ae6bf5e750e8701e736d855550fc8</code> To obtain it use:</p>
<div class="fragment"><div class="line">git checkout ac0308715e5ae6bf5e750e8701e736d855550fc8</div></div><!-- fragment --> <h4>HELib build issues</h4>
<p>There are issues witht he new HELib build system. It produces a way slower library. See the build section how to use the old system.</p>
<h2>What is supported at the moment?</h2>
<h3>Deep Learning</h3>
<p>So far we support two types of layers:</p>
<ul>
<li>2D Convolutional</li>
<li>Fully Connected</li>
</ul>
<p>We support a number of activation functions:</p><ul>
<li>Linear</li>
<li>Square</li>
<li>ReLU ( not useable with the HE backend )</li>
</ul>
<p>We <b>only</b> support inference. Training is not supported and needs to be done with other tools/frameworks. As of now there is no automated way of importing pretrained models. The current suggested workflow is:</p><ol type="1">
<li>Train model using <a href="https://keras.io/">keras</a></li>
<li>Use provided tools to extract weights</li>
<li>Define model in C++ and import weights Models that are supposed to used with our code may only use these layers and activation functions.</li>
</ol>
<h3>HE Backend</h3>
<p>Currently we only support <a href="https://github.com/shaih/HElib">HELib</a> library as a computational backend (other than plaintext).</p>
<h4>Limitations</h4>
<p>HE places a number of constraints and limitations on the type of computation that can be performed. This is supposed to be a list of the main points to be aware off. It is not meant to be comprehenisve.</p>
<ul>
<li><b>No Division</b> Division of ciphertexts is not supported</li>
<li><b>No comparison</b> There is no comparison between ciphertext, e.g. no max, min, etc. This means we can not use ReLU, MaxPooling, etc.</li>
<li><b>Limited number of computations</b> Every computation performed on a ciphertext adds some additional noise to the ciphertext. If the noise exceeds some threshold we can not decrypt it correctly anymore. Therefore we can not run an arbitrary number of computations</li>
<li><b>Limited support of <a class="el" href="classActivation.html">Activation</a> functions, Layers</b> Due the constraints mentioned above we can not use every activation function or layer that we normally can. We suggest using poynomials as activation functions.</li>
</ul>
<h2>How do I get set up?</h2>
<h3>Dependencies</h3>
<ul>
<li>HELib</li>
<li>boost 1.67</li>
</ul>
<p>At the moment only Linux is supported. We have run it succesfully on Ubuntu 16.04, Ubuntu 17.10, and Ubuntu 18.10. Other versions might work as well. Our project is based on <a href="https://github.com/shaih/HElib">HELib</a> which needs to be built.</p>
<p>Our project currently setup up as an eclipse project. The best way to build it is using <a href="https://www.eclipse.org/cdt/">eclipse cdt</a>. If you choose not to use eclipse you can find the makefiles in the <code>build</code> directory. The problem is that these files need to be updated manualy and will only be updated for a new release.</p>
<h3>Building without eclipse</h3>
<h2>IMPORTANT CHANGES FOP VERSION v.0.2.2</h2>
<p>The build instructions have changed. There are performance issue with the libary file that is produced by the new HElib build system. Use the legacy system for now.</p>
<ol type="1">
<li>Follow the instructions here: <a href="https://github.com/shaih/HElib/blob/master/OLD_INSTALL.txt">https://github.com/shaih/HElib/blob/master/OLD_INSTALL.txt</a> When installling <code>gmp</code> make sure to include the c++ interface by using <code>./configure --enable-cxx</code></li>
<li>We expect to find the HElib headers in the systems include path. Typically <code>/usr/local/include</code>. To make sure they can be found there create a directory called <code>helib</code> in <code>/usr/local/include</code> and copy all the <code>.h</code> files from the <code>HElib/src</code> directory there.</li>
<li>After installing HELib go into the <code>build</code> directory</li>
<li>In the <code>objects.mk</code> file make sure the path to <code>fhe.a</code> is correct for your system</li>
<li>Call <code>make</code></li>
<li>The resulting binary <code>CNNENC</code> needs to be copied to the project to be run correctly</li>
</ol>
<p>~~1. Install <a href="https://github.com/shaih/HElib">HELib</a> and its dependencies. Follow the instrutctions for Option 2 library installation.~~</p>
<h3>How do I build in eclipse ?</h3>
<ol type="1">
<li>Install <a href="https://www.eclipse.org/cdt/">eclipse cdt</a></li>
<li>Start eclipse and choose a workspace folder( we'll refere to that from now on as <code>$WORKSPACE</code></li>
<li><code>clone</code> this project to some folder that is not in <code>$WORKSPACE</code></li>
<li>In eclipse use File &gt; Import... &gt; General &gt; Existing Projects into worksapce . Select the folder that you cloned this project into. Make sure to check 'Copy Project into workspace'</li>
<li>Follow the [<a href="https://github.com/shaih/HElib/blob/master/INSTALL.md">https://github.com/shaih/HElib/blob/master/INSTALL.md</a>](installation instructions) for HELib, use the default installation path (/usr/local).</li>
<li>In eclipse hit Project &gt; Build all 6.1 If the project build fails on the HELib include, run the following commands: <code>$ sudo cp -r /usr/local/helib_pack/include/helib /usr/local/include/</code> <code>$ sudo cp -r /usr/local/helib_pack/lib /lib/</code></li>
</ol>
<h2>Contribution guidelines</h2>
<p>TBD</p>
<h2>Who do I talk to?</h2>
<p>Contact: <a href="#" onclick="location.href='mai'+'lto:'+'rob'+'er'+'tpo'+'ds'+'chw'+'ad'+'t@m'+'y.'+'unt'+'.e'+'du'; return false;">rober<span style="display: none;">.nosp@m.</span>tpod<span style="display: none;">.nosp@m.</span>schwa<span style="display: none;">.nosp@m.</span>dt@m<span style="display: none;">.nosp@m.</span>y.unt<span style="display: none;">.nosp@m.</span>.edu</a> </p>
</div></div><!-- contents -->
<!-- start footer part -->
<hr class="footer"/><address class="footer"><small>
Generated by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.8.13
</small></address>
</body>
</html>
